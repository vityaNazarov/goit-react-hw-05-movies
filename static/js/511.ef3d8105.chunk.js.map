{"version":3,"file":"static/js/511.ef3d8105.chunk.js","mappings":"uQACA,EAA4B,gC,SC+C5B,EAzCoB,WAClB,OAA8BA,EAAAA,EAAAA,UAAS,IAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KACA,GAA8BF,EAAAA,EAAAA,WAAS,GAAvC,eAAOG,EAAP,KAAgBC,EAAhB,KACA,GAA0BJ,EAAAA,EAAAA,UAAS,MAAnC,eAAOK,EAAP,KAAcC,EAAd,KAEQC,GAAOC,EAAAA,EAAAA,MAAPD,IAERE,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAiB,mCAAG,oGAEtBN,GAAW,GAFW,UAGJO,EAAAA,EAAAA,IAAgBJ,GAHZ,OAGhBK,EAHgB,OAItBV,EAAWU,EAAIC,SAJO,gDAMtBP,EAAS,KAAMQ,SANO,yBAQtBV,GAAW,GARW,4EAAH,qDAWvBM,GACD,GAAE,CAACH,EAAIH,EAAYE,IAEpB,IAAMS,EAAWd,EAAQe,KAAI,gBAAGT,EAAH,EAAGA,GAAIU,EAAP,EAAOA,OAAQC,EAAf,EAAeA,QAAf,OAC3B,yBACE,4BACE,oCAAYD,MACZ,uBAAIC,QAHCX,EADkB,IAS7B,OACE,iBAAKY,UAAWC,EAAhB,WACE,wBAAKL,IACJZ,IAAW,SAACkB,EAAA,EAAD,IACXhB,IAAS,iDACRJ,EAAQqB,SAAU,sEAGzB,C,yLC5CKC,E,QAAWC,EAAAA,OAAa,CAC5BC,QAAS,+BACTC,OAAQ,CACNC,QAAS,sCAOAC,EAAS,mCAAG,2GAAOC,EAAP,+BAAc,EAAd,SACAN,EAASO,IAAI,sBAAuB,CACzDJ,OAAQ,CACNG,KAAAA,EACAE,SAAU,WAJS,uBACfC,EADe,EACfA,KADe,kBAQhBA,GARgB,2CAAH,qDAaTC,EAAY,mCAAG,WAAM1B,GAAN,yFACHgB,EAASO,IAAT,iBAAuBvB,GAAM,CAClDmB,OAAQ,CACNK,SAAU,WAHY,uBAClBC,EADkB,EAClBA,KADkB,kBAOnBA,GAPmB,2CAAH,sDAaZE,EAAa,mCAAG,WAAM3B,GAAN,yFACJgB,EAASO,IAAT,iBAAuBvB,EAAvB,YAAqC,CAC1DmB,OAAQ,CACNK,SAAU,WAHa,uBACnBC,EADmB,EACnBA,KADmB,kBAOpBA,GAPoB,2CAAH,sDAabrB,EAAe,mCAAG,WAAOJ,GAAP,8FAAWsB,EAAX,+BAAkB,EAAlB,SACNN,EAASO,IAAT,iBAAuBvB,EAAvB,YAAqC,CAC1DmB,OAAQ,CACNK,SAAU,QACVF,KAAAA,KAJyB,uBACrBG,EADqB,EACrBA,KADqB,kBAQtBA,GARsB,2CAAH,sDAcfG,EAAgB,mCAAG,WAAOC,GAAP,8FAAcP,EAAd,+BAAqB,EAArB,SACPN,EAASO,IAAI,gBAAiB,CACnDJ,OAAQ,CACNU,MAAAA,EACAL,SAAU,QACVF,KAAAA,EACAQ,eAAe,KANW,uBACtBL,EADsB,EACtBA,KADsB,kBAUvBA,GAVuB,2CAAH,qD","sources":["webpack://react-homework-template/./src/pages/ReviewsPage/reviews-page.module.css?0ad5","pages/ReviewsPage/ReviewsPage.jsx","services/api/posts.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"reviews-page_container__tnvms\"};","import { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\n\nimport { getReviewMovies } from 'services/api/posts';\nimport { Loader } from '../../components/Loader/Loader';\nimport css from './reviews-page.module.css';\n\nconst ReviewsPage = () => {\n  const [reviews, setReviews] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const { id } = useParams();\n\n  useEffect(() => {\n    const fetchReviewMovies = async () => {\n      try {\n        setLoading(true);\n        const res = await getReviewMovies(id);\n        setReviews(res.results);\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchReviewMovies();\n  }, [id, setLoading, setError]);\n\n  const elements = reviews.map(({ id, author, content }) => (\n    <li key={id}>\n      <div>\n        <p>Author: {author}</p>\n        <p>{content}</p>\n      </div>\n    </li>\n  ));\n\n  return (\n    <div className={css.container}>\n      <ul>{elements}</ul>\n      {loading && <Loader />}\n      {error && <p>...Posts load failed</p>}\n      {!reviews.length && <p>We don't have any reviews for this movie</p>}\n    </div>\n  );\n};\n\nexport default ReviewsPage;\n","import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n  params: {\n    api_key: '9fae0fdf266213c68361ca578a95b948',\n  },\n});\n\n// Cписок найпопулярніших фільмів на сьогодні для створення колекції на головній сторінці\n// https://api.themoviedb.org/3/trending/all/day?api_key=<<api_key>>\n\nexport const getMovies = async (page = 1) => {\n  const { data } = await instance.get('/trending/movie/day', {\n    params: {\n      page,\n      language: 'en-US',\n    },\n  });\n\n  return data;\n};\n\n// Запит повної інформації про фільм для сторінки кінофільму.\n\nexport const getInfoMovie = async id => {\n  const { data } = await instance.get(`/movie/${id}`, {\n    params: {\n      language: 'en-US',\n    },\n  });\n\n  return data;\n};\n\n// Запит інформації про акторський склад для сторінки кінофільму.\n// https://api.themoviedb.org/3/movie/{movie_id}/credits?api_key=<<api_key>>&language=en-US\n\nexport const getInfoActors = async id => {\n  const { data } = await instance.get(`/movie/${id}/credits`, {\n    params: {\n      language: 'en-US',\n    },\n  });\n\n  return data;\n};\n\n// Запит оглядів для сторінки кінофільму.\n// https://api.themoviedb.org/3/movie/{movie_id}/reviews?api_key=<<api_key>>&language=en-US&page=1\n\nexport const getReviewMovies = async (id, page = 1) => {\n  const { data } = await instance.get(`/movie/${id}/reviews`, {\n    params: {\n      language: 'en-US',\n      page,\n    },\n  });\n\n  return data;\n};\n\n// Пошук фільму за ключовим словом на сторінці фільмів.\n// https://api.themoviedb.org/3/search/movie?api_key=<<api_key>>&language=en-US&page=1&include_adult=false\n\nexport const getKeywordMovies = async (query, page = 1) => {\n  const { data } = await instance.get('/search/movie', {\n    params: {\n      query,\n      language: 'en-US',\n      page,\n      include_adult: false,\n    },\n  });\n\n  return data;\n};\n"],"names":["useState","reviews","setReviews","loading","setLoading","error","setError","id","useParams","useEffect","fetchReviewMovies","getReviewMovies","res","results","message","elements","map","author","content","className","css","Loader","length","instance","axios","baseURL","params","api_key","getMovies","page","get","language","data","getInfoMovie","getInfoActors","getKeywordMovies","query","include_adult"],"sourceRoot":""}